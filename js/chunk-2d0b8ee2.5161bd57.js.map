{"version":3,"sources":["webpack:///./src/views/IdlePanel.vue?1fbf","webpack:///src/views/IdlePanel.vue","webpack:///./src/views/IdlePanel.vue?d3ce","webpack:///./src/views/IdlePanel.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticStyle","nativeOn","$event","move","attrs","readCard","ready","_e","_v","piggyLogoUrl","staticRenderFns","data","timer","methods","startSession","$router","replace","Promise","reader","readAsText","file","onload","resolve","result","onerror","reject","error","_","window","clearTimeout","setTimeout","created","component"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,eAAe,CAACE,YAAY,CAAC,QAAU,OAAO,kBAAkB,SAAS,cAAc,SAAS,OAAS,OAAO,QAAU,KAAKC,SAAS,CAAC,UAAY,SAASC,GAAQ,OAAOR,EAAIS,KAAKD,MAAW,CAAER,EAAS,MAAEI,EAAG,MAAM,CAACE,YAAY,CAAC,SAAW,QAAQ,MAAQ,QAAQ,IAAM,MAAM,KAAO,MAAM,YAAY,SAAS,CAACF,EAAG,aAAa,CAACM,MAAM,CAAC,UAAY,MAAM,QAAU,uBAAuB,CAACN,EAAG,YAAY,CAACM,MAAM,CAAC,KAAO,GAAG,OAAS,GAAG,gBAAgBV,EAAIW,aAAa,IAAI,GAAKX,EAAIY,MAAixBZ,EAAIa,KAA9wBT,EAAG,MAAM,CAACE,YAAY,CAAC,SAAW,QAAQ,MAAQ,MAAM,OAAS,QAAQ,CAACF,EAAG,cAAc,CAACM,MAAM,CAAC,SAAW,IAAK,MAAQ,QAAQ,qBAAqB,SAAS,CAACN,EAAG,mBAAmB,CAACE,YAAY,CAAC,MAAQ,OAAO,OAAS,SAAS,CAACF,EAAG,MAAM,CAACE,YAAY,CAAC,MAAQ,OAAO,OAAS,OAAO,QAAU,OAAO,cAAc,SAAS,kBAAkB,WAAW,CAACF,EAAG,MAAM,CAACE,YAAY,CAAC,YAAY,OAAO,MAAQ,UAAU,aAAa,WAAW,CAACN,EAAIc,GAAG,kBAAkBV,EAAG,mBAAmB,CAACE,YAAY,CAAC,MAAQ,OAAO,OAAS,SAAS,CAACF,EAAG,MAAM,CAACE,YAAY,CAAC,MAAQ,OAAO,OAAS,OAAO,QAAU,OAAO,cAAc,SAAS,kBAAkB,WAAW,CAACF,EAAG,MAAM,CAACE,YAAY,CAAC,YAAY,OAAO,MAAQ,UAAU,aAAa,WAAW,CAACN,EAAIc,GAAG,mBAAmB,IAAI,GAAYV,EAAG,MAAM,CAACE,YAAY,CAAC,aAAa,WAAW,MAAQ,SAAS,CAACF,EAAG,MAAM,CAACE,YAAY,CAAC,MAAQ,UAAU,CAACF,EAAG,WAAW,CAACM,MAAM,CAAC,IAAMV,EAAIe,iBAAiB,QACn/CC,EAAkB,GCyCtB,G,8BAAA,CACEC,KADF,WAEI,MAAO,CACLF,aAAc,sBACdH,OAAO,EACPM,MAAO,OAGXC,QAAS,CACPC,aADJ,WAEMnB,KAAKoB,QAAQC,QAAQ,SAEvBX,SAJJ,SAIA,GACM,IAAN,iBACA,OA+BM,OA9BA,IAAIY,SAAQ,SAAlB,KACQC,EAAOC,WAAWC,GAElBF,EAAOG,OAAS,WACdC,EAAQJ,EAAOK,SAEjBL,EAAOM,QAAU,WACfC,EAAOP,EAAOQ,WAGxB,kBACQ,IAAR,gBAEQ,GAAR,YACU,OAAV,EAEU,MAAV,oBAGA,kBACQ,EAAR,8BAEQ,EAAR,iBAAU,KAAV,YAEA,mBACA,GACU,EAAV,0BAIa,GAETvB,KAvCJ,WAwCM,IAAN,OACMwB,EAAErB,OAAQ,EACNqB,EAAEf,OACJgB,OAAOC,aAAaF,EAAEf,OAExBe,EAAEf,MAAQgB,OAAOE,YAAW,WAC1BH,EAAErB,OAAQ,IAClB,OAGEyB,QA1DF,eC1CmV,I,YCO/UC,EAAY,eACd,EACAvC,EACAiB,GACA,EACA,KACA,WACA,MAIa,aAAAsB,E","file":"js/chunk-2d0b8ee2.5161bd57.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-container',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"center\",\"align-items\":\"center\",\"height\":\"100%\",\"padding\":\"0\"},nativeOn:{\"mousemove\":function($event){return _vm.move($event)}}},[(_vm.ready)?_c('div',{staticStyle:{\"position\":\"fixed\",\"width\":\"200px\",\"top\":\"50%\",\"left\":\"50%\",\"font-size\":\"15px\"}},[_c('el-tooltip',{attrs:{\"placement\":\"top\",\"content\":\"拖动卡片文件至此处或点击选择卡片文件\"}},[_c('el-upload',{attrs:{\"drag\":\"\",\"action\":\"\",\"before-upload\":_vm.readCard}})],1)],1):(!_vm.ready)?_c('div',{staticStyle:{\"position\":\"fixed\",\"width\":\"70%\",\"height\":\"75%\"}},[_c('el-carousel',{attrs:{\"interval\":4000,\"arrow\":\"never\",\"indicator-position\":\"none\"}},[_c('el-carousel-item',{staticStyle:{\"width\":\"100%\",\"height\":\"100%\"}},[_c('div',{staticStyle:{\"width\":\"100%\",\"height\":\"100%\",\"display\":\"flex\",\"align-items\":\"center\",\"justify-content\":\"center\"}},[_c('div',{staticStyle:{\"font-size\":\"50px\",\"color\":\"#CCCCCC\",\"text-align\":\"center\"}},[_vm._v(\"welcome!\")])])]),_c('el-carousel-item',{staticStyle:{\"width\":\"100%\",\"height\":\"100%\"}},[_c('div',{staticStyle:{\"width\":\"100%\",\"height\":\"100%\",\"display\":\"flex\",\"align-items\":\"center\",\"justify-content\":\"center\"}},[_c('div',{staticStyle:{\"font-size\":\"50px\",\"color\":\"#CC0033\",\"text-align\":\"center\"}},[_vm._v(\"welcome!\")])])])],1)],1):_vm._e(),_c('div',{staticStyle:{\"align-self\":\"flex-end\",\"width\":\"100%\"}},[_c('div',{staticStyle:{\"width\":\"250px\"}},[_c('el-image',{attrs:{\"src\":_vm.piggyLogoUrl}})],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <el-container\n    @mousemove.native=\"move\"\n    style=\"display:flex;justify-content:center;align-items:center;height:100%;padding:0;\"\n  >\n    <div v-if=\"ready\" style=\"position:fixed;width:200px;top:50%;left:50%;font-size:15px;\">\n      <el-tooltip placement=\"top\" content=\"拖动卡片文件至此处或点击选择卡片文件\">\n        <el-upload drag action :before-upload=\"readCard\"></el-upload>\n      </el-tooltip>\n    </div>\n    <div v-else-if=\"!ready\" style=\"position:fixed;width:70%;height:75%;\">\n      <el-carousel :interval=\"4000\" arrow=\"never\" indicator-position=\"none\">\n        <el-carousel-item style=\"width:100%;height:100%;\">\n          <div\n            style=\"width:100%;height:100%;display:flex;align-items:center;justify-content:center;\"\n          >\n            <div style=\"font-size:50px;color:#CCCCCC;text-align:center;\">welcome!</div>\n          </div>\n        </el-carousel-item>\n        <el-carousel-item style=\"width:100%;height:100%;\">\n          <div\n            style=\"width:100%;height:100%;display:flex;align-items:center;justify-content:center;\"\n          >\n            <div style=\"font-size:50px;color:#CC0033;text-align:center;\">welcome!</div>\n          </div>\n        </el-carousel-item>\n      </el-carousel>\n    </div>\n\n    <div style=\"align-self:flex-end;width:100%;\">\n      <div style=\"width:250px;\">\n        <el-image :src=\"piggyLogoUrl\"></el-image>\n      </div>\n    </div>\n  </el-container>\n</template>\n<script>\n/**\n * 空闲状态，操作员和客户可用\n *\n * 接口：读卡器，管理按钮\n */\nexport default {\n  data() {\n    return {\n      piggyLogoUrl: \"piggy-bank-logo.png\",\n      ready: false,\n      timer: null\n    };\n  },\n  methods: {\n    startSession() {\n      this.$router.replace(\"auth\");\n    },\n    readCard(file) {\n      let reader = new FileReader();\n      let _ = this;\n      new Promise((resolve, reject) => {\n        reader.readAsText(file);\n\n        reader.onload = () => {\n          resolve(reader.result);\n        };\n        reader.onerror = () => {\n          reject(reader.error);\n        };\n      })\n        .then(res => {\n          let info = JSON.parse(res);\n\n          if (info && info.number) {\n            return info;\n          } else {\n            throw new Error(\"无效卡\");\n          }\n        })\n        .then(info => {\n          _.$store.commit(\"setAccount\", info);\n\n          _.$router.replace({ name: \"auth\" });\n        })\n        .catch(err => {\n          if (err) {\n            _.$message.error(\"无效卡\");\n          }\n        });\n\n      return false;\n    },\n    move() {\n      let _ = this;\n      _.ready = true;\n      if (_.timer) {\n        window.clearTimeout(_.timer);\n      }\n      _.timer = window.setTimeout(() => {\n        _.ready = false;\n      }, 5000);\n    }\n  },\n  created() {}\n};\n</script>\n<style scoped>\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IdlePanel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IdlePanel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./IdlePanel.vue?vue&type=template&id=54825bcd&scoped=true&\"\nimport script from \"./IdlePanel.vue?vue&type=script&lang=js&\"\nexport * from \"./IdlePanel.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"54825bcd\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}